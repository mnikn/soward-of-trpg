<div nz-row nzGutter="16">
  <div nz-col nzSpan="24">
    <nz-card className='basics-info-card' nzTitle="基本信息">
      <form nz-form [formGroup]="validateForm">
        <div nz-col [nzSpan]="12" *ngFor="let control of basicsInfoInputControls">
          <nz-form-item nzFlex>
            <nz-form-label [nzFor]="control.id">{{control.label}}</nz-form-label>
            <nz-form-control>
              <input *ngIf="control.type === 'text'" nz-input
                     [placeholder]="control.placeholder"
                     [type]="control.type"
                     [formControlName]="control.id"
                     [(ngModel)]="control.value"
                     (change)="control.onChange(control.value)"/>
              <nz-input-number *ngIf="control.type === 'number'"
                               [nzPlaceHolder]="control.placeholder"
                               [formControlName]="control.id"
                               [nzMin]="1"
                               [(ngModel)]="control.value"
                               (ngModelChange)="control.onChange(control.value)">
              </nz-input-number>

              <nz-select *ngIf="control.type === 'select'"
                         [ngStyle]="{'width':control.width? control.width + 'px' : 120+'px' }"
                         [formControlName]="control.id"
                         [nzMode]="control.isMulti ? 'multiple' : 'default'"
                         [(ngModel)]="control.value"
                         [nzDisabled]="control.readonly"
                         [nzAllowClear]="control.allowClear"
                         [nzPlaceHolder]="control.placeholder"
                         (ngModelChange)="control.onChange(control.value)">
                <div *ngFor="let option of control.options">
                  <nz-option [nzValue]="option.id" [nzLabel]="option.label"></nz-option>
                </div>
              </nz-select>

              <app-tool-button *ngIf="control.editOnDrawerButton"
                               style="margin-left: 12px"
                               [model]="control.editOnDrawerButton">
              </app-tool-button>
            </nz-form-control>
          </nz-form-item>
        </div>
      </form>
    </nz-card>
  </div>
  <app-dnd3r-profession-drawer [defaultProfessions]="role.professions"
                               (professionsChange)="updateProfessions($event)">
  </app-dnd3r-profession-drawer>
</div>

